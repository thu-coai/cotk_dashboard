{% extends 'dashboard/base.html' %}

{% block title %}
  Show records
{% endblock %}

{% block content %}
  <div class="container">
    <div class="row">
      <div class="col-12">

        <table id="table" class="table table-striped table-bordered">
          <thead>
          <tr>
            <th>ID</th>
            <th>User</th>
            <th>Github commit</th>
            <th>Dataset</th>
            <th>Uploaded at</th>
          </tr>
          </thead>
        </table>
      </div>
    </div>
  </div>
{% endblock %}

{% block script %}
  <script>
    $(document).ready(function () {
      $('#table').DataTable({
        {#searching: false,#}
        bSort: false,
        processing: true,
        serverSide: true,
        ajax: {
          url: "{% url 'records_json' %}",
          data: {
            {% if uid %}
              uid: {{ uid }}
            {% endif %}
          }
        },
        columnDefs: [
          {
            name: 'id',
          }
        ],
      });
    })
  </script>
{% endblock %}

{% block css %}
  <style>
    #table {
      width: 100%;
    }
  </style>
{% endblock %}